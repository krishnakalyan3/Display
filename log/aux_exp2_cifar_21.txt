root@7926772ba6c9:/gel/usr/skkal1/newdir/new_code# THEANO_FLAGS='mode=FAST_RUN,device=gpu,floatX=float32,lib.cnmem=0.1' python2 Run_adv_NetTest.py -m specialist  -d  cifar -n 21 -e cuda_conv
Using gpu device 0: Tesla K40c (CNMeM is enabled with initial size: 10.0% of memory, cuDNN 4008)
/usr/local/lib/python2.7/dist-packages/theano/tensor/signal/downsample.py:6: UserWarning: downsample module has been moved to the theano.tensor.signal.pool module.
  "downsample module has been moved to the theano.tensor.signal.pool module.")
Choosen method is specialist
dataset is cifar
number of networks is 21
NetName is cuda_conv
Original data set cifar is selected

numbers of training =	 [51000 ,51000]		 numbers of test data = 	21000

21 Networks trained for 	 by cifar
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
A net with three filters no FC layer defined in directroy Test_Train_v1

(None, 3, 32, 32)
(None, 32, 32, 32)
(None, 32, 15, 15)
(None, 32, 15, 15)
(None, 32, 7, 7)
(None, 64, 7, 7)
(None, 64, 3, 3)
(None, 10)
/usr/local/lib/python2.7/dist-packages/lasagne/layers/conv.py:489: UserWarning: The `image_shape` keyword argument to `tensor.nnet.conv2d` is deprecated, it has been renamed to `input_shape`.
  border_mode=border_mode)
Gating function is trained for 50
Training samples51000

batchsize is not dividable by total samples
===== epoch 0======

Training Error rate % 23.29317

batchsize is not dividable by total samples
Test Error rate % 22.39583

batchsize is not dividable by total samples
===== epoch 1======

Training Error rate % 19.38943

batchsize is not dividable by total samples
Test Error rate % 21.47254

batchsize is not dividable by total samples
===== epoch 2======

Training Error rate % 18.28287

batchsize is not dividable by total samples
Test Error rate % 22.19697

batchsize is not dividable by total samples
===== epoch 3======

Training Error rate % 17.61463

batchsize is not dividable by total samples
Test Error rate % 21.35890

batchsize is not dividable by total samples
===== epoch 4======

Training Error rate % 16.93296

batchsize is not dividable by total samples
Test Error rate % 19.09564

batchsize is not dividable by total samples
===== epoch 5======

Training Error rate % 16.19478

batchsize is not dividable by total samples
Test Error rate % 19.68750

batchsize is not dividable by total samples
===== epoch 6======

Training Error rate % 15.75954

batchsize is not dividable by total samples
Test Error rate % 19.11458

batchsize is not dividable by total samples
===== epoch 7======

Training Error rate % 15.09745

batchsize is not dividable by total samples
Test Error rate % 20.36932

batchsize is not dividable by total samples
===== epoch 8======

Training Error rate % 14.71340

batchsize is not dividable by total samples
Test Error rate % 22.10227

batchsize is not dividable by total samples
===== epoch 9======

Training Error rate % 14.30669

batchsize is not dividable by total samples
Test Error rate % 18.41856

batchsize is not dividable by total samples
===== epoch 10======

Training Error rate % 13.62782

batchsize is not dividable by total samples
Test Error rate % 18.84470

batchsize is not dividable by total samples
===== epoch 11======

Training Error rate % 13.31649

batchsize is not dividable by total samples
Test Error rate % 18.99148

batchsize is not dividable by total samples
===== epoch 12======

Training Error rate % 12.85188

batchsize is not dividable by total samples
Test Error rate % 18.71686

batchsize is not dividable by total samples
===== epoch 13======

Training Error rate % 12.25021

batchsize is not dividable by total samples
Test Error rate % 18.09659

batchsize is not dividable by total samples
===== epoch 14======

Training Error rate % 11.73973

batchsize is not dividable by total samples
Test Error rate % 18.61742

batchsize is not dividable by total samples
===== epoch 15======

Training Error rate % 11.24379

batchsize is not dividable by total samples
Test Error rate % 17.81250

batchsize is not dividable by total samples
===== epoch 16======

Training Error rate % 10.95149

batchsize is not dividable by total samples
Test Error rate % 19.38447

batchsize is not dividable by total samples
===== epoch 17======

Training Error rate % 10.60967

batchsize is not dividable by total samples
Test Error rate % 18.01610

batchsize is not dividable by total samples
===== epoch 18======

Training Error rate % 10.03905

batchsize is not dividable by total samples
Test Error rate % 18.73106

batchsize is not dividable by total samples
===== epoch 19======

Training Error rate % 9.59430

batchsize is not dividable by total samples
Test Error rate % 18.44697

batchsize is not dividable by total samples
===== epoch 20======

Training Error rate % 9.33136

batchsize is not dividable by total samples
Test Error rate % 18.77841

batchsize is not dividable by total samples
===== epoch 21======

Training Error rate % 8.96410

batchsize is not dividable by total samples
Test Error rate % 18.08239

batchsize is not dividable by total samples
===== epoch 22======

Training Error rate % 8.55851

batchsize is not dividable by total samples
Test Error rate % 19.03409

batchsize is not dividable by total samples
===== epoch 23======

Training Error rate % 8.12634

batchsize is not dividable by total samples
Test Error rate % 19.06723

batchsize is not dividable by total samples
===== epoch 24======

Training Error rate % 7.85921

batchsize is not dividable by total samples
Test Error rate % 19.11932

batchsize is not dividable by total samples
===== epoch 25======

Training Error rate % 7.45362

batchsize is not dividable by total samples
Test Error rate % 18.44697

batchsize is not dividable by total samples
===== epoch 26======

Training Error rate % 7.16579

batchsize is not dividable by total samples
Test Error rate % 18.83523

batchsize is not dividable by total samples
===== epoch 27======

Training Error rate % 6.70622

batchsize is not dividable by total samples
Test Error rate % 18.88731

batchsize is not dividable by total samples
===== epoch 28======

Training Error rate % 6.44440

batchsize is not dividable by total samples
Test Error rate % 19.64015

batchsize is not dividable by total samples
===== epoch 29======

Training Error rate % 6.21448

batchsize is not dividable by total samples
Test Error rate % 19.82481

batchsize is not dividable by total samples
===== epoch 30======

Training Error rate % 5.92021

batchsize is not dividable by total samples
Test Error rate % 18.73580

batchsize is not dividable by total samples
===== epoch 31======

Training Error rate % 5.87070

batchsize is not dividable by total samples
Test Error rate % 19.20455

batchsize is not dividable by total samples
===== epoch 32======

Training Error rate % 5.36078

batchsize is not dividable by total samples
Test Error rate % 18.86837

batchsize is not dividable by total samples
===== epoch 33======

Training Error rate % 5.21924

batchsize is not dividable by total samples
Test Error rate % 20.45928

batchsize is not dividable by total samples
===== epoch 34======

Training Error rate % 5.03631

batchsize is not dividable by total samples
Test Error rate % 19.26136

batchsize is not dividable by total samples
===== epoch 35======

Training Error rate % 4.76163

batchsize is not dividable by total samples
Test Error rate % 20.78125

batchsize is not dividable by total samples
===== epoch 36======

Training Error rate % 4.64498

batchsize is not dividable by total samples
Test Error rate % 19.42235

batchsize is not dividable by total samples
===== epoch 37======

Training Error rate % 4.38401

batchsize is not dividable by total samples
Test Error rate % 18.83996

batchsize is not dividable by total samples
===== epoch 38======

Training Error rate % 4.26037

batchsize is not dividable by total samples
Test Error rate % 20.12311

batchsize is not dividable by total samples
===== epoch 39======

Training Error rate % 4.10457

batchsize is not dividable by total samples
Test Error rate % 19.04830

batchsize is not dividable by total samples
===== epoch 40======

Training Error rate % 3.88667

batchsize is not dividable by total samples
Test Error rate % 19.05777

batchsize is not dividable by total samples
===== epoch 41======

Training Error rate % 3.78010

batchsize is not dividable by total samples
Test Error rate % 19.12405

batchsize is not dividable by total samples
===== epoch 42======

Training Error rate % 3.64751

batchsize is not dividable by total samples
Test Error rate % 19.13826

batchsize is not dividable by total samples
===== epoch 43======

Training Error rate % 3.55828

batchsize is not dividable by total samples
Test Error rate % 19.19981

batchsize is not dividable by total samples
===== epoch 44======

Training Error rate % 3.33703

batchsize is not dividable by total samples
Test Error rate % 19.50284

batchsize is not dividable by total samples
===== epoch 45======

Training Error rate % 3.19213

batchsize is not dividable by total samples
Test Error rate % 19.55019

batchsize is not dividable by total samples
===== epoch 46======

Training Error rate % 3.13143

batchsize is not dividable by total samples
Test Error rate % 19.67803

batchsize is not dividable by total samples
===== epoch 47======

Training Error rate % 2.98654

batchsize is not dividable by total samples
Test Error rate % 19.32292

batchsize is not dividable by total samples
===== epoch 48======

Training Error rate % 2.84360

batchsize is not dividable by total samples
Test Error rate % 19.90530

batchsize is not dividable by total samples
===== epoch 49======

Training Error rate % 2.74710

batchsize is not dividable by total samples
Test Error rate % 19.46970

Adversaries are 	cifar10_10_AdvTest_10000_espi_0.05_cuda_conv_FastSign.pkl
(10000, 3, 32, 32)
number of adversaries10000
(8152, 1, 3, 32, 32)
(8147, 3, 32, 32)
(10000, 3, 32, 32)
(8152, 3, 32, 32)
(8152, 3, 32, 32)
====== Clean samples 10000

Accuracy rate (%)  70.9200%
 avg correctly confidence 95.7081
 avg incorrectly confidence 85.5747
====== Out-dis samples 10000

Accuracy rate (%)  88.5000%
 avg correctly confidence 97.0650
 avg incorrectly confidence 83.4586
====== FGS samples 10000

10000
Not classified as adversary but correctly classified with accuracy 1319.3800
Accuracy rate (%)  88.1800%
 avg correctly confidence 96.4098
 avg incorrectly confidence 84.7154
====== LBFGS samples 8152

batchsize is not dividable by total samples
8152
Not classified as adversary but correctly classified with accuracy 6181.5260
Accuracy rate (%)  76.1998%
 avg correctly confidence 94.2199
 avg incorrectly confidence 87.0589
====== DF samples 8147

batchsize is not dividable by total samples
8147
Not classified as adversary but correctly classified with accuracy 3134.6999
Accuracy rate (%)  82.6552%
 avg correctly confidence 94.3862
 avg incorrectly confidence 86.1081
====== step1.1 samples 10000

10000
Not classified as adversary but correctly classified with accuracy 945.4000
Accuracy rate (%)  92.4000%
 avg correctly confidence 98.1478
 avg incorrectly confidence 84.9528
====== Test FS 8152

batchsize is not dividable by total samples
8152
Not classified as adversary but correctly classified with accuracy 1199.4971
Accuracy rate (%)  87.4578%
 avg correctly confidence 96.0760
 avg incorrectly confidence 84.2378
====== Test Un sup 8152

batchsize is not dividable by total samples
8152
Not classified as adversary but correctly classified with accuracy 851.9872
Accuracy rate (%)  92.1126%
 avg correctly confidence 98.0836
 avg incorrectly confidence 84.0172
root@7926772ba6c9:/gel/usr/skkal1/newdir/new_code#